cscope 15 $HOME/workspace/alg/src/sort -q 0000000198 0000023845
	@/home/tgni/workspace/alg/src/sort/list.h

1 #iâdeà
_LIST_H


2 
	#_LIST_H


	)

5 
	~<¡dio.h
>

18 
	sli¡_h—d
 {

19 
li¡_h—d
 *
	mÃxt
, *
	m´ev
;

22 
li¡_h—d
 
	tli¡_h—d_t
;

24 
	#LIST_HEAD_INIT
(
Çme
è{ &Òame), &Òameè}

	)

26 
	#LIST_HEAD
(
Çme
) \

27 
li¡_h—d
 
Çme
 = 
	`LIST_HEAD_INIT
Òame)

	)

29 
	#INIT_LIST_HEAD
(
±r
) do { \

30 (
±r
)->
Ãxt
 = (±r); (±r)->
´ev
 = (ptr); \

31 } 0)

	)

40 
__šlše__
 
	$__li¡_add
(
li¡_h—d
 * 
_Ãw
,

41 
li¡_h—d
 * 
_´ev
,

42 
li¡_h—d
 * 
_Ãxt
)

44 
_Ãxt
->
´ev
 = 
_Ãw
;

45 
_Ãw
->
Ãxt
 = 
_Ãxt
;

46 
_Ãw
->
´ev
 = 
_´ev
;

47 
_´ev
->
Ãxt
 = 
_Ãw
;

48 
	}
}

59 
__šlše__
 
	$li¡_add
(
li¡_h—d
 *
_Ãw
, li¡_h—d *
_h—d
)

61 
	`__li¡_add
(
_Ãw
, 
_h—d
, _h—d->
Ãxt
);

62 
	}
}

73 
__šlše__
 
	$li¡_add_ž
(
li¡_h—d
 *
_Ãw
, li¡_h—d *
_h—d
)

75 
	`__li¡_add
(
_Ãw
, 
_h—d
->
´ev
, _head);

76 
	}
}

86 
__šlše__
 
	$__li¡_d–
(
li¡_h—d
 * 
_´ev
,

87 
li¡_h—d
 * 
_Ãxt
)

89 
_Ãxt
->
´ev
 = 
_´ev
;

90 
_´ev
->
Ãxt
 = 
_Ãxt
;

91 
	}
}

99 
__šlše__
 
	$li¡_d–
(
li¡_h—d
 *
_’Œy
)

101 
	`__li¡_d–
(
_’Œy
->
´ev
, _’Œy->
Ãxt
);

102 
_’Œy
->
Ãxt
 = _’Œy->
´ev
 = 0;

103 
	}
}

110 
__šlše__
 
	$li¡_em±y
(
li¡_h—d
 *
_h—d
)

112  
_h—d
->
Ãxt
 == _head;

113 
	}
}

116 
__šlše__
 
	$li¡_em±y_Úe
(
li¡_h—d
 *
_h—d
)

118  
_h—d
->
Ãxt
 =ð_h—d->
´ev
 && _head->next != _head &&

119 
_h—d
->
Ãxt
->Ãxˆ=ð_h—d && _h—d->Ãxt->
´ev
 == _head;

120 
	}
}

128 
__šlše__
 
	$li¡_¥liû
(
li¡_h—d
 *
li¡
, li¡_h—d *
h—d
)

130 
li¡_h—d
 *
fœ¡
 = 
li¡
->
Ãxt
;

132 ià(
fœ¡
 !ð
li¡
) {

133 
li¡_h—d
 *
Ï¡
 = 
li¡
->
´ev
;

134 
li¡_h—d
 *
©
 = 
h—d
->
Ãxt
;

136 
fœ¡
->
´ev
 = 
h—d
;

137 
h—d
->
Ãxt
 = 
fœ¡
;

139 
Ï¡
->
Ãxt
 = 
©
;

140 
©
->
´ev
 = 
Ï¡
;

142 
	}
}

144 
	#off£t_of
(
ty³
, 
memb”
è((è&(Ñy³ *)0)->memb”)

	)

151 
__šlše__
 
	$li¡_­³nd_h—d
(
li¡_h—d_t
 *
h—d
,†i¡_h—d_ˆ*
fœ¡
,†i¡_h—d_ˆ*
Ï¡
)

153 
	`__li¡_add
(
h—d
, 
Ï¡
, 
fœ¡
);

154 
	}
}

163 
	#cÚš”_of
(
±r
, 
ty³
, 
memb”
) \

164 ((
ty³
 *)((*)(
±r
è- ()(&(Ñy³ *)0)->
memb”
)))

	)

172 
	#li¡_’Œy
(
±r
, 
ty³
, 
memb”
) \

173 
	`cÚš”_of
(
±r
, 
ty³
, 
memb”
)

	)

181 
	#li¡_fÜ_—ch
(
pos
, 
h—d
) \

182 
pos
 = (
h—d
)->
Ãxt
;…os != (head); \

183 
pos
 =…os->
Ãxt
)

	)

185 
	#li¡_fÜ_—ch_»v”£
(
pos
, 
h—d
) \

186 
pos
 = (
h—d
)->
´ev
;…os != (head); \

187 
pos
 =…os->
´ev
)

	)

196 
	#li¡_fÜ_—ch_§ã
(
pos
, 
n
, 
h—d
) \

197 
pos
 = (
h—d
)->
Ãxt
, 
n
 =…os->next;…os != (head); \

198 
pos
 = 
n
,‚ =…os->
Ãxt
)

	)

200 
	#li¡_fÜ_—ch_§ã_»v”£
(
pos
, 
n
, 
h—d
) \

201 
pos
 = (
h—d
)->
´ev
, 
n
 =…os->prev;…os != (head); \

202 
pos
 = 
n
,‚ =…os->
´ev
)

	)

212 
	shli¡_h—d
 {

213 
hli¡_node
 *
	mfœ¡
;

215 
hli¡_h—d
 
	thli¡_h—d_t
;

217 
	shli¡_node
 {

218 
hli¡_node
 *
	mÃxt
, **
	mµ»v
;

220 
hli¡_node
 
	thli¡_node_t
;

222 
	#HLIST_HEAD_INIT
 { .
fœ¡
 = 
NULL
 }

	)

223 
	#HLIST_HEAD
(
Çme
è
hli¡_h—d
‚amð{ .
fœ¡
 = 
NULL
 }

	)

224 
	#INIT_HLIST_HEAD
(
±r
è(ÕŒ)->
fœ¡
 = 
NULL
)

	)

226 
__šlše__
 
	$INIT_HLIST_NODE
(
hli¡_node
 *
h
)

228 
h
->
Ãxt
 = 
NULL
;

229 
h
->
µ»v
 = 
NULL
;

230 
	}
}

232 
__šlše__
 
	$hli¡_unhashed
(cÚ¡ 
hli¡_node
 *
h
)

234  !
h
->
µ»v
;

235 
	}
}

237 
__šlše__
 
	$hli¡_em±y
(cÚ¡ 
hli¡_h—d
 *
h
)

239  !
h
->
fœ¡
;

240 
	}
}

242 
__šlše__
 
	$__hli¡_d–
(
hli¡_node
 *
n
)

244 
hli¡_node
 *
Ãxt
 = 
n
->next;

245 
hli¡_node
 **
µ»v
 = 
n
->pprev;

246 *
µ»v
 = 
Ãxt
;

247 ià(
Ãxt
)

248 
Ãxt
->
µ»v
 =…prev;

249 
	}
}

251 
__šlše__
 
	$hli¡_d–
(
hli¡_node
 *
n
)

253 
	`__hli¡_d–
(
n
);

254 
n
->
Ãxt
 = 0;

255 
n
->
µ»v
 = 0;

256 
	}
}

258 
__šlše__
 
	$hli¡_d–_š™
(
hli¡_node
 *
n
)

260 ià(!
	`hli¡_unhashed
(
n
)) {

261 
	`__hli¡_d–
(
n
);

262 
	`INIT_HLIST_NODE
(
n
);

264 
	}
}

266 
__šlše__
 
	$hli¡_add_h—d
(
hli¡_node
 *
n
, 
hli¡_h—d
 *
h
)

268 
hli¡_node
 *
fœ¡
 = 
h
->first;

269 
n
->
Ãxt
 = 
fœ¡
;

270 ià(
fœ¡
)

271 
fœ¡
->
µ»v
 = &
n
->
Ãxt
;

272 
h
->
fœ¡
 = 
n
;

273 
n
->
µ»v
 = &
h
->
fœ¡
;

274 
	}
}

276 
__šlše__
 
	$hli¡_add_befÜe
(
hli¡_node
 *
n
, hli¡_nod*
Ãxt
)

278 
n
->
µ»v
 = 
Ãxt
->pprev;

279 
n
->
Ãxt
 =‚ext;

280 
Ãxt
->
µ»v
 = &
n
->next;

281 *(
n
->
µ»v
) =‚;

282 
	}
}

284 
__šlše__
 
	$hli¡_add_aá”
(
hli¡_node
 *
n
, hli¡_nod*
Ãxt
)

286 
Ãxt
->Ãxˆð
n
->next;

287 
n
->
Ãxt
 =‚ext;

288 
Ãxt
->
µ»v
 = &
n
->next;

290 if(
Ãxt
->next)

291 
Ãxt
->Ãxt->
µ»v
 = &next->next;

292 
	}
}

298 
__šlše__
 
	$hli¡_move_li¡
(
hli¡_h—d
 *
Þd
, hli¡_h—d *
Ãw
)

300 
Ãw
->
fœ¡
 = 
Þd
->first;

301 ià(
Ãw
->
fœ¡
)

302 
Ãw
->
fœ¡
->
µ»v
 = &new->first;

303 
Þd
->
fœ¡
 = 
NULL
;

304 
	}
}

306 
	#hli¡_’Œy
(
±r
, 
ty³
, 
memb”
) \

307 
	`cÚš”_of
(
±r
, 
ty³
, 
memb”
)

	)

309 
	#hli¡_fÜ_—ch
(
pos
, 
h—d
) \

310 
pos
 = (
h—d
)->
fœ¡
;…o ;…o ðpos->
Ãxt
)

	)

312 
	#hli¡_fÜ_—ch_§ã
(
pos
, 
n
, 
h—d
) \

313 
pos
 = (
h—d
)->
fœ¡
;…o && ({ 
n
 =…os->
Ãxt
; 1; }); \

314 
pos
 = 
n
)

	)

	@/home/tgni/workspace/alg/src/sort/sort.c

1 
	~<¡dio.h
>

2 
	~<¡dlib.h
>

3 
	~<¡ršg.h
>

4 
	~<time.h
>

5 
	~"ty³s.h
"

6 
	~"li¡.h
"

8 
	sbuck‘_s
 {

9 
li¡_h—d_t
 *
	mli¡
;

11 
	mba£
;

12 } 
	tbuck‘
;

14 
	sb™em_s
 {

15 
li¡_h—d_t
 
	mlšk
;

16 
	me
;

17 } 
	tb™em_t
;

20 
	$´št_¬¿y
(
a
[], 
n
)

22 
i
;

24 
i
 = 0; i < 
n
; ++i) {

25 
	`´štf
("%2d ", 
a
[
i
]);

27 
	`´štf
("\n");

28 
	}
}

30 
	$š£¹_sÜt_1
(
a
[], 
n
)

32 
i
, 
j
, 
tmp
;

34 
i
 = 1; i < 
n
; ++i) {

35 
tmp
 = 
a
[
i
];

36 
j
 = 
i
; j > 0 && 
a
[j - 1] > 
tmp
; j--)

37 
a
[
j
] =‡[j - 1];

38 
a
[
j
] = 
tmp
;

40 
	}
}

43 
	$š£¹_sÜt_2
(
a
[], 
n
)

45 
i
, 
j
, 
low
, 
high
, 
mid
, 
tmp
;

47 
i
 = 1; i < 
n
; ++i) {

48 
tmp
 = 
a
[
i
];

49 
low
 = 0; 
high
 = 
i
-1;

51 
low
 <ð
high
) {

52 
mid
 = (
low
 + 
high
)/2;

53 ià(
a
[
mid
] > 
tmp
)

54 
high
 = 
mid
-1;

56 
low
 = 
mid
+1;

58 
j
 = 
i
; j > 
low
; j--)

59 
a
[
j
] =‡[j-1];

60 
a
[
j
] = 
tmp
;

62 
	}
}

64 
	$sh–l_sÜt
(
a
[], 
n
)

66 
dk
, 
i
, 
j
, 
tmp
;

68 
dk
 = 
n
/2; dk > 0; dk = dk/2) {

69 
i
 = 
dk
; i < 
n
; ++i) {

70 ià(
a
[
i
] <‡[i-
dk
]) {

71 
tmp
 = 
a
[
i
];

72 
j
=
i
-
dk
; j >ð0 && 
a
[j] > 
tmp
; j-=dk)

73 
a
[
j
+
dk
] =‡[j];

74 
a
[
j
+
dk
] = 
tmp
;

78 
	}
}

81 
	$bubbË_sÜt
(
a
[], 
n
)

83 
i
, 
j
, 
æag
 = 0;

85 
i
 = 0; i < 
n
; ++i) {

86 
æag
 = 0;

88 
j
 = 
n
-1; j > 
i
; j--) {

89 ià(
a
[
j
-1] >‡[j]) {

90 
	`sw­
(
a
[
j
-1],‡[j]);

91 
æag
 = 1;

95 ià(
æag
 == 0)

98 
	}
}

100 
	$·¹™iÚ
(
a
[], 
low
, 
high
)

102 
pivÙ
 = 
a
[
low
];

104 
low
 < 
high
) {

105 
low
 < 
high
 && 
a
[high] >ð
pivÙ
) --high;

106 
a
[
low
] =‡[
high
];

107 
low
 < 
high
 && 
a
[low] <ð
pivÙ
) ++low;

108 
a
[
high
] =‡[
low
];

110 
a
[
low
] = 
pivÙ
;

112  
low
;

113 
	}
}

115 
	$quick_sÜt
(
a
[], 
low
, 
high
)

117 
p
;

119 ià(
low
 < 
high
) {

120 
p
 = 
	`·¹™iÚ
(
a
, 
low
, 
high
);

121 
	`quick_sÜt
(
a
, 
low
, 
p
-1);

122 
	`quick_sÜt
(
a
, 
p
+1, 
high
);

126 
	}
}

129 
	$£Ëù_sÜt
(
a
[], 
n
)

131 
i
, 
j
, 
mš
;

133 
i
 = 0; i < 
n
-1; ++i) {

134 
mš
 = 
i
;

135 
j
 = 
i
+1; j < 
n
; ++j)

136 ià(
a
[
j
] <‡[
mš
]) min = j;

138 ià(
mš
 !ð
i
è
	`sw­
(
a
[min],‡[i]);

140 
	}
}

147 
	#PaREnT
(
i
è
	`mod_ûžšg
(i, 2)

	)

148 
	#LEFT
(
i
è(2 * (i))

	)

149 
	#RIGHT
(
i
è(2 * (iè+ 1)

	)

151 
	$adju¡_down
(
a
[], 
k
, 
Ën
)

153 
i
;

155 
a
[0] =‡[
k
];

157 
i
 = 2*
k
; i <ð
Ën
; i *= 2) {

158 ià(
i
 < 
Ën
 && 
a
[i] <‡[i+1])

159 
i
++;

160 ià(
a
[0] >ða[
i
]) {

163 
a
[
k
] =‡[
i
];

164 
k
 = 
i
;

167 
a
[
k
] =‡[0];

168 
	}
}

170 
	$adju¡_up
(
a
[], 
k
)

172 
i
 = 
k
/2;

174 
a
[0] =‡[
k
];

176 
i
 > 0 && 
a
[i] >‡[0]) {

177 
a
[
k
] =‡[
i
];

178 
k
 = 
i
;

179 
i
 = 
k
/2;

181 
a
[
k
] =‡[0];

182 
	}
}

185 
	$bužd_max_h—p
(
a
[], 
n
)

187 
i
;

189 
i
 = 
n
/2; i > 0; --i)

190 
	`adju¡_down
(
a
, 
i
, 
n
);

191 
	}
}

193 
	$h—p_sÜt
(
a
[], 
n
)

195 
i
, 
h—psize
 = 
n
;

197 
	`bužd_max_h—p
(
a
, 
n
);

200 
i
 = 
n
; i >= 2; --i) {

201 
	`sw­
(
a
[1],‡[
i
]);

202 
h—psize
--;

203 
	`adju¡_down
(
a
, 1, 
h—psize
);

207 
	}
}

209 
	$m”ge
(
a
[], 
t
[], 
low
, 
mid
, 
high
)

211 
i
, 
j
, 
k
;

213 
k
 = 
low
; k <ð
high
; ++k)

214 
t
[
k
] = 
a
[k];

216 
i
 = 
low
, 
j
 = 
mid
+1, 
k
 = i; i <ðmid && j <ð
high
; ++k) {

217 ià(
t
[
i
] <ðt[
j
])

218 
a
[
k
] = 
t
[
i
++];

220 
a
[
k
] = 
t
[
j
++];

223 
i
 <ð
mid
è
a
[
k
++] = 
t
[i++];

224 
j
 <ð
high
è
a
[
k
++] = 
t
[j++];

225 
	}
}

227 
	$__m”ge_sÜt
(
a
[], 
tmp
[], 
low
, 
high
)

229 
mid
;

231 ià(
low
 < 
high
) {

232 
mid
 = (
low
 + 
high
) / 2;

233 
	`__m”ge_sÜt
(
a
, 
tmp
, 
low
, 
mid
);

234 
	`__m”ge_sÜt
(
a
, 
tmp
, 
mid
+1, 
high
);

235 
	`m”ge
(
a
, 
tmp
, 
low
, 
mid
, 
high
);

237 
	}
}

239 
	$m”ge_sÜt
(
a
[], 
n
)

241 *
tmp
;

243 ià(!(
tmp
 = (*)
	`m®loc
(
n
 * ())))

246 
	`__m”ge_sÜt
(
a
, 
tmp
, 0, 
n
-1);

248 
	`ä“
(
tmp
);

249 
	}
}

251 
	$is_ev’
(
x
)

253 ià(
x
 % 2)

257 
	}
}

259 
	$pow”
(
x
, 
n
)

261 ià(
n
 == 0)

263 ià(
n
 == 1)

264  
x
;

265 ià(
	`is_ev’
(
n
))

266  
	`pow”
(
x
 * x, 
n
 / 2);

268  
	`pow”
(
x
 * x, 
n
 / 2) * x;

269 
	}
}

271 
	$g‘_idx
(
d©a
, 
ba£
, 
exp
)

273  (
d©a
 / 
	`pow”
(
ba£
, 
exp
)) % base;

274 
	}
}

277 
b™em_t
 *
	$g‘_b™em
(
e
)

279 
b™em_t
 *
™em
;

281 ià(!(
™em
 = 
	`m®loc
((
b™em_t
))))

282  
NULL
;

284 
™em
->
e
 =ƒ;

285  
™em
;

286 
	}
}

288 
	$put_b™em
(
b™em_t
 *
™em
)

290 
	`li¡_d–
(&
™em
->
lšk
);

291 
	`ä“
(
™em
);

292 
	}
}

294 
	$push_b™em
(
buck‘
 *
bkt
, 
b™em_t
 *
™em
, 
idx
)

296 
	`li¡_add_ž
(&
™em
->
lšk
, &
bkt
->
li¡
[
idx
]);

297 
	}
}

299 
	$pÝ_b™em
(
b™em_t
 *
™em
)

301 
	`li¡_d–
(&
™em
->
lšk
);

302 
	}
}

304 
buck‘
 *
	$g‘_buck‘
(
ba£
)

306 
buck‘
 *
bkt
;

307 
i
;

309 ià(!(
bkt
 = 
	`m®loc
((
buck‘
è+ (
li¡_h—d_t
è* 
ba£
)))

310  
NULL
;

312 
bkt
->
li¡
 = (
li¡_h—d_t
 *)((*)bkˆ+ (
buck‘
));

313 
i
 = 0; i < 
ba£
; ++i)

314 
	`INIT_LIST_HEAD
(&
bkt
->
li¡
[
i
]);

315 
bkt
->
ba£
 = base;

317  
bkt
;

318 
	}
}

320 
	$put_buck‘
(
buck‘
 *
bkt
)

322 
li¡_h—d_t
 *
pos
, *
n
;

323 
b™em_t
 *
™em
;

324 
j
;

326 
j
 = 0; j < 
bkt
->
ba£
; ++j) {

327 
	`li¡_fÜ_—ch_§ã
(
pos
, 
n
, &
bkt
->
li¡
[
j
]) {

328 
™em
 = 
	`li¡_’Œy
(
pos
, 
b™em_t
, 
lšk
);

329 
	`put_b™em
(
™em
);

333 
	`ä“
(
bkt
);

334 
	}
}

336 
	$show_buck‘
(
buck‘
 *
bkt
)

338 
j
;

339 
li¡_h—d_t
 *
pos
;

340 
b™em_t
 *
™em
;

342 
	`´štf
("Bucket\n");

343 
	`´štf
("----------------------------------------------------\n");

344 
j
 = 0; j < 
bkt
->
ba£
; ++j) {

345 
	`´štf
("%-5d|", 
j
);

346 ià(
	`li¡_em±y
(&
bkt
->
li¡
[
j
])) {

347 
	`´štf
(" ");

349 
	`li¡_fÜ_—ch
(
pos
, &
bkt
->
li¡
[
j
]) {

350 
™em
 = 
	`li¡_’Œy
(
pos
, 
b™em_t
, 
lšk
);

351 
	`´štf
("%-5d", 
™em
->
e
);

354 
	`´štf
("\n");

357 
	}
}

359 
	$__¿dix_sÜt
(
a
[], 
Ä
, 
ba£
)

361 
b™em_t
 *
™em
;

362 
buck‘
 *
bkt
;

363 
i
, 
j
, 
k
, 
exp
, 
idx
, 
max
 = 0;

364 
li¡_h—d_t
 *
pos
, *
n
;

367 
i
 = 0; i < 
Ä
; ++i) {

368 ià(
max
 < 
a
[
i
]) max =‡[i];

371 
exp
 = 0; 
	`pow”
(
ba£
,ƒxpè< 
max
; ++exp)

374 ià(!(
bkt
 = 
	`g‘_buck‘
(
ba£
)))

377 
k
 = 0; k < 
exp
; ++k) {

379 
i
 = 0; i < 
Ä
; ++i) {

380 ià(!(
™em
 = 
	`g‘_b™em
(
a
[
i
]))) {

381 
	`put_buck‘
(
bkt
);

385 
idx
 = 
	`g‘_idx
(
™em
->
e
, 
bkt
->
ba£
, 
k
);

386 
	`push_b™em
(
bkt
, 
™em
, 
idx
);

390 
i
 =0, 
j
 = 0; j < 
bkt
->
ba£
; ++j) {

391 
	`li¡_fÜ_—ch_§ã
(
pos
, 
n
, &
bkt
->
li¡
[
j
]) {

392 
™em
 = 
	`li¡_’Œy
(
pos
, 
b™em_t
, 
lšk
);

393 
a
[
i
++] = 
™em
->
e
;

394 
	`put_b™em
(
™em
);

399 
	`put_buck‘
(
bkt
);

402 
	}
}

405 
	$¿dix_sÜt
(
a
[], 
n
)

407 
	`__¿dix_sÜt
(
a
, 
n
, 10);

408 
	}
}

410 
	$couÁšg_sÜt
(
a
[], 
n
)

413 
	}
}

416 
	$maš
(*
¬gv
[], 
¬gc
)

418 
b
[10];

419 
a
[11];

420 
n
 = (
b
)/(), 
i
;

422 
	`¤ªd
(
	`time
(
NULL
));

423 
i
 = 0; i < 
n
; ++i)

424 
b
[
i
] = 
	`¿nd
() & 0xf;

426 
	`memýy
(
a
, 
b
, (b));

427 
	`´štf
("original data: ");

428 
	`´št_¬¿y
(
a
, 
n
);

430 
	`´štf
("insert sort 1: ");

431 
	`š£¹_sÜt_1
(
a
, 
n
);

432 
	`´št_¬¿y
(
a
, 
n
);

434 
	`memýy
(
a
, 
b
, (b));

435 
	`´štf
("insert sort 2: ");

436 
	`š£¹_sÜt_1
(
a
, 
n
);

437 
	`´št_¬¿y
(
a
, 
n
);

439 
	`memýy
(
a
, 
b
, (b));

440 
	`´štf
("shell sort: ");

441 
	`sh–l_sÜt
(
a
, 
n
);

442 
	`´št_¬¿y
(
a
, 
n
);

444 
	`memýy
(
a
, 
b
, (b));

445 
	`´štf
("bubble sort: ");

446 
	`bubbË_sÜt
(
a
, 
n
);

447 
	`´št_¬¿y
(
a
, 
n
);

449 
	`memýy
(
a
, 
b
, (b));

450 
	`´štf
("quick sort: ");

451 
	`quick_sÜt
(
a
, 0, 
n
-1);

452 
	`´št_¬¿y
(
a
, 
n
);

454 
	`memýy
(
a
, 
b
, (b));

455 
	`´štf
("select sort: ");

456 
	`£Ëù_sÜt
(
a
, 
n
);

457 
	`´št_¬¿y
(
a
, 
n
);

459 
	`memýy
(&
a
[1], 
b
, (b));

460 
a
[0] = 0;

461 
	`´štf
("heap sort: ");

462 
	`h—p_sÜt
(
a
, 
n
);

463 
	`´št_¬¿y
(&
a
[1], 
n
);

465 
	`memýy
(
a
, 
b
, (b));

466 
	`´štf
("merge sort: ");

467 
	`m”ge_sÜt
(
a
, 
n
);

468 
	`´št_¬¿y
(
a
, 
n
);

470 
	`memýy
(
a
, 
b
, (b));

471 
	`´štf
("radix sort: ");

472 
	`¿dix_sÜt
(
a
, 
n
);

473 
	`´št_¬¿y
(
a
, 
n
);

476 
	}
}

	@/home/tgni/workspace/alg/src/sort/types.h

10 #iâdeà
_TYPES_H


11 
	#_TYPES_H


	)

14 
	tBOOLEAN
;

15 
	tINT8U
;

16 sigÃd 
	tINT8S
;

17 
	tINT16U
;

18 sigÃd 
	tINT16S
;

19 
	tINT32U
;

20 sigÃd 
	tINT32S
;

21 
	tFP32
;

22 
	tFP64
;

24 
	tINT64S
;

25 
	tINT64U
;

28 
	tulÚg_t
;

29 
	tušt32_t
;

30 
	tušt16_t
;

31 
	tušt8_t
;

34 
	tlÚg_t
;

35 
	tšt32_t
;

36 
	tšt16_t
;

37 sigÃd 
	tšt8_t
;

40 
	#htÚs
(
n
è((
ušt16_t
)((Òè& 0xffè<< 8è| ((Òè& 0xff00è>> 8))

	)

41 
	#htÚl
(
n
è((
ušt32_t
)( \

42 (((
ušt32_t
)(
n
) & (uint32_t)0x000000ffUL) << 24) | \

43 (((
ušt32_t
)(
n
) & (uint32_t)0x0000ff00UL) << 8) | \

44 (((
ušt32_t
)(
n
) & (uint32_t)0x00ff0000UL) >> 8) | \

45 (((
ušt32_t
)(
n
è& (ušt32_t)0xff000000ULè>> 24)))

	)

46 
	#Áohs
(
n
è
	`htÚs
Ò)

	)

47 
	#Áohl
(
n
è
	`htÚl
Ò)

	)

50 
	#__i¤__


	)

51 
	#__¶c_wq__


	)

52 
	#__tmr__


	)

55 
	#DISPLAY_MSG
 0

	)

57 
	#DISABLE
 0

	)

58 
	#ENABLE
 1

	)

60 
	#MAX
(
a
,
b
è(×è>ð(bè? (aè: (b))

	)

61 
	#MIN
(
a
,
b
è(×è<ð(bè? (aè: (b))

	)

62 
	#US_SWAP
(
a
è(×èð(
INT16U
)(((INT16U)×è>> 8è| ((INT16U)×è<< 8)))

	)

63 
	#mod_ûžšg
(
a
, 
b
è((×è+ (bè- 1è/ (b))

	)

64 
	#mod_æoÜ
(
a
, 
b
è(×è/ (b))

	)

66 #iâdeà
NULL


67 
	#NULL
 0

	)

70 #iâdeà
TRUE


71 
	#TRUE
 (1 =ð1)

	)

74 #iâdeà
FALSE


75 
	#FALSE
 (!
TRUE
)

	)

78 #iâdeà
OK


79 
	#OK
 0

	)

82 #iâdeà
ERROR


83 
	#ERROR
 -1

	)

86 
__šlše__
 
	$¥l™_wr™e_two
(
ušt8_t
 *
addr
, 
ušt16_t
 
two
, ušt8_ˆ
’dŸn
)

88 
ušt8_t
 
by‹0
, 
by‹1
;

90 
by‹0
 = (
two
 & 0xff);

91 
by‹1
 = (
two
 & 0xff00) >> 8;

93 ià(
’dŸn
) {

94 *
addr
 = 
by‹1
;

95 *(
addr
+1èð
by‹0
;

97 *
addr
 = 
by‹0
;

98 *(
addr
+1èð
by‹1
;

102 
	}
}

104 
	#¥l™_»ad_two
(
addr
, 
’dŸn
) \

105 ((
’dŸn
) ? \

106 (
ušt16_t
)((*(
addr
) << 8) | (*(addr+1))) : \

107 (
ušt16_t
)((*(
addr
)è| (*×ddr+1è<< 8)))

	)

109 
__šlše__
 
	$¥l™_wr™e_four
(
ušt8_t
 *
addr
, 
ušt32_t
 
four
, ušt8_ˆ
’dŸn
)

111 
ušt8_t
 
by‹0
, 
by‹1
, 
by‹2
, 
by‹3
;

113 
by‹0
 = (
four
 & 0xff);

114 
by‹1
 = (
four
 & 0xff00) >> 8;

115 
by‹2
 = (
four
 & 0xff0000) >> 16;

116 
by‹3
 = (
four
 & 0xff000000) >> 24;

118 ià(
’dŸn
) {

119 *
addr
 = 
by‹3
;

120 *(
addr
+1èð
by‹2
;

121 *(
addr
+2èð
by‹1
;

122 *(
addr
+3èð
by‹0
;

124 *
addr
 = 
by‹0
;

125 *(
addr
+1èð
by‹1
;

126 *(
addr
+2èð
by‹2
;

127 *(
addr
+3èð
by‹3
;

130 
	}
}

133 
	#¥l™_»ad_four
(
addr
, 
’dŸn
) \

134 ((
’dŸn
) ? \

135 (
ušt32_t
)((*(
addr
) << 24) | (*(addr+1) << 16) | (*(addr+2) << 8) | (*(addr+3))) : \

136 (
ušt32_t
)((*(
addr
)è| (*×ddr+1è<< 8è| (*×ddr+2è<< 16è| (*×ddr+3è<< 24)))

	)

138 
	#sw­
(
a
, 
b
) do { \

139 
št32_t
 
_tmp
 = (
a
); \

140 (
a
èð(
b
); \

141 (
b
èð
_tmp
; \

142 } 0)

	)

	@list.h

1 #iâdeà
_LIST_H


2 
	#_LIST_H


	)

5 
	~<¡dio.h
>

18 
	sli¡_h—d
 {

19 
li¡_h—d
 *
	mÃxt
, *
	m´ev
;

22 
li¡_h—d
 
	tli¡_h—d_t
;

24 
	#LIST_HEAD_INIT
(
Çme
è{ &Òame), &Òameè}

	)

26 
	#LIST_HEAD
(
Çme
) \

27 
li¡_h—d
 
Çme
 = 
	`LIST_HEAD_INIT
Òame)

	)

29 
	#INIT_LIST_HEAD
(
±r
) do { \

30 (
±r
)->
Ãxt
 = (±r); (±r)->
´ev
 = (ptr); \

31 } 0)

	)

40 
__šlše__
 
	$__li¡_add
(
li¡_h—d
 * 
_Ãw
,

41 
li¡_h—d
 * 
_´ev
,

42 
li¡_h—d
 * 
_Ãxt
)

44 
_Ãxt
->
´ev
 = 
_Ãw
;

45 
_Ãw
->
Ãxt
 = 
_Ãxt
;

46 
_Ãw
->
´ev
 = 
_´ev
;

47 
_´ev
->
Ãxt
 = 
_Ãw
;

48 
	}
}

59 
__šlše__
 
	$li¡_add
(
li¡_h—d
 *
_Ãw
, li¡_h—d *
_h—d
)

61 
	`__li¡_add
(
_Ãw
, 
_h—d
, _h—d->
Ãxt
);

62 
	}
}

73 
__šlše__
 
	$li¡_add_ž
(
li¡_h—d
 *
_Ãw
, li¡_h—d *
_h—d
)

75 
	`__li¡_add
(
_Ãw
, 
_h—d
->
´ev
, _head);

76 
	}
}

86 
__šlše__
 
	$__li¡_d–
(
li¡_h—d
 * 
_´ev
,

87 
li¡_h—d
 * 
_Ãxt
)

89 
_Ãxt
->
´ev
 = 
_´ev
;

90 
_´ev
->
Ãxt
 = 
_Ãxt
;

91 
	}
}

99 
__šlše__
 
	$li¡_d–
(
li¡_h—d
 *
_’Œy
)

101 
	`__li¡_d–
(
_’Œy
->
´ev
, _’Œy->
Ãxt
);

102 
_’Œy
->
Ãxt
 = _’Œy->
´ev
 = 0;

103 
	}
}

110 
__šlše__
 
	$li¡_em±y
(
li¡_h—d
 *
_h—d
)

112  
_h—d
->
Ãxt
 == _head;

113 
	}
}

116 
__šlše__
 
	$li¡_em±y_Úe
(
li¡_h—d
 *
_h—d
)

118  
_h—d
->
Ãxt
 =ð_h—d->
´ev
 && _head->next != _head &&

119 
_h—d
->
Ãxt
->Ãxˆ=ð_h—d && _h—d->Ãxt->
´ev
 == _head;

120 
	}
}

128 
__šlše__
 
	$li¡_¥liû
(
li¡_h—d
 *
li¡
, li¡_h—d *
h—d
)

130 
li¡_h—d
 *
fœ¡
 = 
li¡
->
Ãxt
;

132 ià(
fœ¡
 !ð
li¡
) {

133 
li¡_h—d
 *
Ï¡
 = 
li¡
->
´ev
;

134 
li¡_h—d
 *
©
 = 
h—d
->
Ãxt
;

136 
fœ¡
->
´ev
 = 
h—d
;

137 
h—d
->
Ãxt
 = 
fœ¡
;

139 
Ï¡
->
Ãxt
 = 
©
;

140 
©
->
´ev
 = 
Ï¡
;

142 
	}
}

144 
	#off£t_of
(
ty³
, 
memb”
è((è&(Ñy³ *)0)->memb”)

	)

151 
__šlše__
 
	$li¡_­³nd_h—d
(
li¡_h—d_t
 *
h—d
,†i¡_h—d_ˆ*
fœ¡
,†i¡_h—d_ˆ*
Ï¡
)

153 
	`__li¡_add
(
h—d
, 
Ï¡
, 
fœ¡
);

154 
	}
}

163 
	#cÚš”_of
(
±r
, 
ty³
, 
memb”
) \

164 ((
ty³
 *)((*)(
±r
è- ()(&(Ñy³ *)0)->
memb”
)))

	)

172 
	#li¡_’Œy
(
±r
, 
ty³
, 
memb”
) \

173 
	`cÚš”_of
(
±r
, 
ty³
, 
memb”
)

	)

181 
	#li¡_fÜ_—ch
(
pos
, 
h—d
) \

182 
pos
 = (
h—d
)->
Ãxt
;…os != (head); \

183 
pos
 =…os->
Ãxt
)

	)

185 
	#li¡_fÜ_—ch_»v”£
(
pos
, 
h—d
) \

186 
pos
 = (
h—d
)->
´ev
;…os != (head); \

187 
pos
 =…os->
´ev
)

	)

196 
	#li¡_fÜ_—ch_§ã
(
pos
, 
n
, 
h—d
) \

197 
pos
 = (
h—d
)->
Ãxt
, 
n
 =…os->next;…os != (head); \

198 
pos
 = 
n
,‚ =…os->
Ãxt
)

	)

200 
	#li¡_fÜ_—ch_§ã_»v”£
(
pos
, 
n
, 
h—d
) \

201 
pos
 = (
h—d
)->
´ev
, 
n
 =…os->prev;…os != (head); \

202 
pos
 = 
n
,‚ =…os->
´ev
)

	)

212 
	shli¡_h—d
 {

213 
hli¡_node
 *
	mfœ¡
;

215 
hli¡_h—d
 
	thli¡_h—d_t
;

217 
	shli¡_node
 {

218 
hli¡_node
 *
	mÃxt
, **
	mµ»v
;

220 
hli¡_node
 
	thli¡_node_t
;

222 
	#HLIST_HEAD_INIT
 { .
fœ¡
 = 
NULL
 }

	)

223 
	#HLIST_HEAD
(
Çme
è
hli¡_h—d
‚amð{ .
fœ¡
 = 
NULL
 }

	)

224 
	#INIT_HLIST_HEAD
(
±r
è(ÕŒ)->
fœ¡
 = 
NULL
)

	)

226 
__šlše__
 
	$INIT_HLIST_NODE
(
hli¡_node
 *
h
)

228 
h
->
Ãxt
 = 
NULL
;

229 
h
->
µ»v
 = 
NULL
;

230 
	}
}

232 
__šlše__
 
	$hli¡_unhashed
(cÚ¡ 
hli¡_node
 *
h
)

234  !
h
->
µ»v
;

235 
	}
}

237 
__šlše__
 
	$hli¡_em±y
(cÚ¡ 
hli¡_h—d
 *
h
)

239  !
h
->
fœ¡
;

240 
	}
}

242 
__šlše__
 
	$__hli¡_d–
(
hli¡_node
 *
n
)

244 
hli¡_node
 *
Ãxt
 = 
n
->next;

245 
hli¡_node
 **
µ»v
 = 
n
->pprev;

246 *
µ»v
 = 
Ãxt
;

247 ià(
Ãxt
)

248 
Ãxt
->
µ»v
 =…prev;

249 
	}
}

251 
__šlše__
 
	$hli¡_d–
(
hli¡_node
 *
n
)

253 
	`__hli¡_d–
(
n
);

254 
n
->
Ãxt
 = 0;

255 
n
->
µ»v
 = 0;

256 
	}
}

258 
__šlše__
 
	$hli¡_d–_š™
(
hli¡_node
 *
n
)

260 ià(!
	`hli¡_unhashed
(
n
)) {

261 
	`__hli¡_d–
(
n
);

262 
	`INIT_HLIST_NODE
(
n
);

264 
	}
}

266 
__šlše__
 
	$hli¡_add_h—d
(
hli¡_node
 *
n
, 
hli¡_h—d
 *
h
)

268 
hli¡_node
 *
fœ¡
 = 
h
->first;

269 
n
->
Ãxt
 = 
fœ¡
;

270 ià(
fœ¡
)

271 
fœ¡
->
µ»v
 = &
n
->
Ãxt
;

272 
h
->
fœ¡
 = 
n
;

273 
n
->
µ»v
 = &
h
->
fœ¡
;

274 
	}
}

276 
__šlše__
 
	$hli¡_add_befÜe
(
hli¡_node
 *
n
, hli¡_nod*
Ãxt
)

278 
n
->
µ»v
 = 
Ãxt
->pprev;

279 
n
->
Ãxt
 =‚ext;

280 
Ãxt
->
µ»v
 = &
n
->next;

281 *(
n
->
µ»v
) =‚;

282 
	}
}

284 
__šlše__
 
	$hli¡_add_aá”
(
hli¡_node
 *
n
, hli¡_nod*
Ãxt
)

286 
Ãxt
->Ãxˆð
n
->next;

287 
n
->
Ãxt
 =‚ext;

288 
Ãxt
->
µ»v
 = &
n
->next;

290 if(
Ãxt
->next)

291 
Ãxt
->Ãxt->
µ»v
 = &next->next;

292 
	}
}

298 
__šlše__
 
	$hli¡_move_li¡
(
hli¡_h—d
 *
Þd
, hli¡_h—d *
Ãw
)

300 
Ãw
->
fœ¡
 = 
Þd
->first;

301 ià(
Ãw
->
fœ¡
)

302 
Ãw
->
fœ¡
->
µ»v
 = &new->first;

303 
Þd
->
fœ¡
 = 
NULL
;

304 
	}
}

306 
	#hli¡_’Œy
(
±r
, 
ty³
, 
memb”
) \

307 
	`cÚš”_of
(
±r
, 
ty³
, 
memb”
)

	)

309 
	#hli¡_fÜ_—ch
(
pos
, 
h—d
) \

310 
pos
 = (
h—d
)->
fœ¡
;…o ;…o ðpos->
Ãxt
)

	)

312 
	#hli¡_fÜ_—ch_§ã
(
pos
, 
n
, 
h—d
) \

313 
pos
 = (
h—d
)->
fœ¡
;…o && ({ 
n
 =…os->
Ãxt
; 1; }); \

314 
pos
 = 
n
)

	)

	@types.h

10 #iâdeà
_TYPES_H


11 
	#_TYPES_H


	)

14 
	tBOOLEAN
;

15 
	tINT8U
;

16 sigÃd 
	tINT8S
;

17 
	tINT16U
;

18 sigÃd 
	tINT16S
;

19 
	tINT32U
;

20 sigÃd 
	tINT32S
;

21 
	tFP32
;

22 
	tFP64
;

24 
	tINT64S
;

25 
	tINT64U
;

28 
	tulÚg_t
;

29 
	tušt32_t
;

30 
	tušt16_t
;

31 
	tušt8_t
;

34 
	tlÚg_t
;

35 
	tšt32_t
;

36 
	tšt16_t
;

37 sigÃd 
	tšt8_t
;

40 
	#htÚs
(
n
è((
ušt16_t
)((Òè& 0xffè<< 8è| ((Òè& 0xff00è>> 8))

	)

41 
	#htÚl
(
n
è((
ušt32_t
)( \

42 (((
ušt32_t
)(
n
) & (uint32_t)0x000000ffUL) << 24) | \

43 (((
ušt32_t
)(
n
) & (uint32_t)0x0000ff00UL) << 8) | \

44 (((
ušt32_t
)(
n
) & (uint32_t)0x00ff0000UL) >> 8) | \

45 (((
ušt32_t
)(
n
è& (ušt32_t)0xff000000ULè>> 24)))

	)

46 
	#Áohs
(
n
è
	`htÚs
Ò)

	)

47 
	#Áohl
(
n
è
	`htÚl
Ò)

	)

50 
	#__i¤__


	)

51 
	#__¶c_wq__


	)

52 
	#__tmr__


	)

55 
	#DISPLAY_MSG
 0

	)

57 
	#DISABLE
 0

	)

58 
	#ENABLE
 1

	)

60 
	#MAX
(
a
,
b
è(×è>ð(bè? (aè: (b))

	)

61 
	#MIN
(
a
,
b
è(×è<ð(bè? (aè: (b))

	)

62 
	#US_SWAP
(
a
è(×èð(
INT16U
)(((INT16U)×è>> 8è| ((INT16U)×è<< 8)))

	)

63 
	#mod_ûžšg
(
a
, 
b
è((×è+ (bè- 1è/ (b))

	)

64 
	#mod_æoÜ
(
a
, 
b
è(×è/ (b))

	)

66 #iâdeà
NULL


67 
	#NULL
 0

	)

70 #iâdeà
TRUE


71 
	#TRUE
 (1 =ð1)

	)

74 #iâdeà
FALSE


75 
	#FALSE
 (!
TRUE
)

	)

78 #iâdeà
OK


79 
	#OK
 0

	)

82 #iâdeà
ERROR


83 
	#ERROR
 -1

	)

86 
__šlše__
 
	$¥l™_wr™e_two
(
ušt8_t
 *
addr
, 
ušt16_t
 
two
, ušt8_ˆ
’dŸn
)

88 
ušt8_t
 
by‹0
, 
by‹1
;

90 
by‹0
 = (
two
 & 0xff);

91 
by‹1
 = (
two
 & 0xff00) >> 8;

93 ià(
’dŸn
) {

94 *
addr
 = 
by‹1
;

95 *(
addr
+1èð
by‹0
;

97 *
addr
 = 
by‹0
;

98 *(
addr
+1èð
by‹1
;

102 
	}
}

104 
	#¥l™_»ad_two
(
addr
, 
’dŸn
) \

105 ((
’dŸn
) ? \

106 (
ušt16_t
)((*(
addr
) << 8) | (*(addr+1))) : \

107 (
ušt16_t
)((*(
addr
)è| (*×ddr+1è<< 8)))

	)

109 
__šlše__
 
	$¥l™_wr™e_four
(
ušt8_t
 *
addr
, 
ušt32_t
 
four
, ušt8_ˆ
’dŸn
)

111 
ušt8_t
 
by‹0
, 
by‹1
, 
by‹2
, 
by‹3
;

113 
by‹0
 = (
four
 & 0xff);

114 
by‹1
 = (
four
 & 0xff00) >> 8;

115 
by‹2
 = (
four
 & 0xff0000) >> 16;

116 
by‹3
 = (
four
 & 0xff000000) >> 24;

118 ià(
’dŸn
) {

119 *
addr
 = 
by‹3
;

120 *(
addr
+1èð
by‹2
;

121 *(
addr
+2èð
by‹1
;

122 *(
addr
+3èð
by‹0
;

124 *
addr
 = 
by‹0
;

125 *(
addr
+1èð
by‹1
;

126 *(
addr
+2èð
by‹2
;

127 *(
addr
+3èð
by‹3
;

130 
	}
}

133 
	#¥l™_»ad_four
(
addr
, 
’dŸn
) \

134 ((
’dŸn
) ? \

135 (
ušt32_t
)((*(
addr
) << 24) | (*(addr+1) << 16) | (*(addr+2) << 8) | (*(addr+3))) : \

136 (
ušt32_t
)((*(
addr
)è| (*×ddr+1è<< 8è| (*×ddr+2è<< 16è| (*×ddr+3è<< 24)))

	)

138 
	#sw­
(
a
, 
b
) do { \

139 
št32_t
 
_tmp
 = (
a
); \

140 (
a
èð(
b
); \

141 (
b
èð
_tmp
; \

142 } 0)

	)

	@
1
.
0
5
139
/home/tgni/workspace/alg/src/sort/list.h
/home/tgni/workspace/alg/src/sort/sort.c
/home/tgni/workspace/alg/src/sort/types.h
list.h
types.h
