cscope 15 $HOME/workspace/alg/src/kmp -q 0000000021 0000002128
	@/home/tgni/workspace/alg/src/kmp/kmp.c

1 
	~<°dio.h
>

2 
	~<°rög.h
>

3 
	~<°dlib.h
>

5 
	$m©ch
(*
s
, 
Àn
, *
p
, 
∂í
)

7 
i
 = 0, 
j
 = 1;

9 
i
 < 
Àn
 && 
j
 < 
∂í
) {

10 i‡(
s
[
i
] =
p
[
j
]) {

11 ++
i
; ++
j
;

13 
i
 = i - 
j
 + 1;

14 
j
 = 0;

18 i‡(
j
 >
∂í
)

19  
i
 - 
j
;

22 
	}
}

24 
	$dump_√xt
(
√xt
[], 
Àn
)

26 
i
;

27 
	`¥ötf
("next:");

28 
i
 = 0; i < 
Àn
; ++i) {

29 
	`¥ötf
("%d ", 
√xt
[
i
]);

31 
	`¥ötf
("\n");

32 
	}
}

34 
	$gë_√xt
(*
∑âîn
, 
Àn
, 
√xt
[])

36 
j
 = 0, 
k
 = -1;

38 
√xt
[0] = -1;

39 
j
 < 
Àn
 - 1) {

40 
	`dump_√xt
(
√xt
, 
Àn
);

41 
	`¥ötf
("j: %d k: %d,Ö©[j]:%c,Ö©[k]:%c\n", 
j
, 
k
, 
∑âîn
[j],Öattern[k]);

42 i‡(
k
 =-1 || 
∑âîn
[
j
] ==Öattern[k]) {

43 
√xt
[++
j
] = ++
k
;

45 
k
 = 
√xt
[k];

50 
	}
}

52 
	$kmp
(*
s
, 
Àn
, *
p
, 
∂í
, 
√xt
[])

54 
i
 = 0, 
j
 = 0;

56 
i
 < 
Àn
 && 
j
 < 
∂í
) {

57 i‡(
j
 =-1 || 
s
[
i
] =
p
[j]) {

58 ++
i
; ++
j
;

60 
j
 = 
√xt
[j];

64 i‡(
j
 >
∂í
)

65  
i
 - 
j
;

68 
	}
}

70 
	$maö
()

73 *
∑âîn
 = "abaabcac";

74 *
s
 = "ababababca";

75 
pos
, 
i
, 
j
, *
√xt
;

77 i‡(!(
√xt
 = 
	`mÆloc
(
	`°æí
(
∑âîn
)*()))) {

78 
	`¥ötf
("failedÅo malloc\n");

82 
	`¥ötf
("s: %s, såÀn(s): %d\n", 
s
, ()
	`°æí
(s));

83 
	`¥ötf
("∑âîn: %s, såÀn’©ã∫): %d\n", 
∑âîn
, ()
	`°æí
(pattern));

84 
	`gë_√xt
(
∑âîn
, 
	`°æí
’©ã∫), 
√xt
);

85 
pos
 = 
	`kmp
(
s
, 
	`°æí
(s), 
∑âîn
, såÀn’©ã∫), 
√xt
);

86 
	`¥ötf
("pos: %d\n", 
pos
);

89 
	`¥ötf
("∑âîn: %s\n", 
∑âîn
);

90 
	`¥ötf
(" : ");

91 
i
 = 0; i < 
	`°æí
(
∑âîn
); ++i)

92 
	`¥ötf
("%d", 
i
);

93 
	`¥ötf
("\n");

95 
	`gë_√xt
(
∑âîn
, 
	`°æí
’©ã∫), 
√xt
);

96 
i
 = 0; i < 
	`°æí
(
∑âîn
); ++i) {

97 
	`¥ötf
("√xt[%d]: %d\n", 
i
, 
√xt
[i]);

99 
	`¥ötf
("%d ~ %d: ", 0, 
√xt
[
i
]-1);

100 
j
 = 0; j < 
√xt
[
i
]; ++j) {

101 
	`¥ötf
("%¯", 
∑âîn
[
j
]);

103 
	`¥ötf
("\n");

105 
	`¥ötf
("%d ~ %d: ", 
i
-
√xt
[i], i-1);

106 
j
 = 
i
 - 
√xt
[i]; j < i; ++j) {

107 
	`¥ötf
("%¯", 
∑âîn
[
j
]);

109 
	`¥ötf
("\n");

113 
	}
}

	@
1
.
0
1
39
/home/tgni/workspace/alg/src/kmp/kmp.c
